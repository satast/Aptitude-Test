{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SATHISH\\\\Desktop\\\\myfirst\\\\src\\\\components\\\\Test.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate\n\n// Question component ...\n// (Existing code for Question component remains the same)\n\n// Test component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Test = () => {\n  _s();\n  const [answers, setAnswers] = useState({});\n  const [submitted, setSubmitted] = useState(false);\n  const navigate = useNavigate(); // Initialize navigate\n\n  const questions = [\n    // Array of questions ...\n  ];\n  const handleAnswer = (questionIndex, answer) => {\n    setAnswers({\n      ...answers,\n      [questionIndex]: answer\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const calculatedScore = questions.reduce((acc, q, index) => {\n      return acc + (q.correctAnswer === answers[index] ? 1 : 0);\n    }, 0);\n    console.log(\"Calculated Score:\", calculatedScore);\n    setSubmitted(true);\n    const token = localStorage.getItem('token');\n    const testResults = {\n      score: calculatedScore,\n      answers\n    };\n    try {\n      await axios.post('/api/submit-test', testResults, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      alert('Test results submitted successfully');\n      localStorage.removeItem('token'); // Remove the token to prevent re-login\n      navigate('/login'); // Redirect to login page\n    } catch (error) {\n      console.error('Error submitting test results:', error);\n      if (error.response && error.response.data) {\n        alert(`Failed to submit test results: ${error.response.data.message || 'Unauthorized'}`);\n      } else {\n        alert('Failed to submit test results. Please try again later.');\n      }\n    }\n  };\n\n  // preventActions function ...\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    onContextMenu: preventActions,\n    onContextMenuCapture: preventActions,\n    onCopy: preventActions,\n    onDragStart: preventActions,\n    onSelectStart: preventActions,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [questions.map((q, index) => /*#__PURE__*/_jsxDEV(Question, {\n        question: q.question,\n        options: q.options,\n        onAnswer: answer => handleAnswer(index, answer)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary mt-3\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Test, \"Q9G0e8PfNq7cQ6j4r7ddng5yJH0=\", false, function () {\n  return [useNavigate];\n});\n_c = Test;\nexport default Test;\nvar _c;\n$RefreshReg$(_c, \"Test\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","Test","_s","answers","setAnswers","submitted","setSubmitted","navigate","questions","handleAnswer","questionIndex","answer","handleSubmit","e","preventDefault","calculatedScore","reduce","acc","q","index","correctAnswer","console","log","token","localStorage","getItem","testResults","score","post","headers","alert","removeItem","error","response","data","message","className","onContextMenu","preventActions","onContextMenuCapture","onCopy","onDragStart","onSelectStart","children","onSubmit","map","Question","question","options","onAnswer","fileName","_jsxFileName","lineNumber","columnNumber","type","_c","$RefreshReg$"],"sources":["C:/Users/SATHISH/Desktop/myfirst/src/components/Test.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate\r\n\r\n// Question component ...\r\n// (Existing code for Question component remains the same)\r\n\r\n// Test component\r\nconst Test = () => {\r\n  const [answers, setAnswers] = useState({});\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const navigate = useNavigate(); // Initialize navigate\r\n\r\n  const questions = [\r\n    // Array of questions ...\r\n  ];\r\n\r\n  const handleAnswer = (questionIndex, answer) => {\r\n    setAnswers({\r\n      ...answers,\r\n      [questionIndex]: answer\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const calculatedScore = questions.reduce((acc, q, index) => {\r\n      return acc + (q.correctAnswer === answers[index] ? 1 : 0);\r\n    }, 0);\r\n\r\n    console.log(\"Calculated Score:\", calculatedScore);\r\n\r\n    setSubmitted(true);\r\n\r\n    const token = localStorage.getItem('token');\r\n    const testResults = {\r\n      score: calculatedScore,\r\n      answers\r\n    };\r\n\r\n    try {\r\n      await axios.post('/api/submit-test', testResults, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      alert('Test results submitted successfully');\r\n      localStorage.removeItem('token'); // Remove the token to prevent re-login\r\n      navigate('/login'); // Redirect to login page\r\n    } catch (error) {\r\n      console.error('Error submitting test results:', error);\r\n      if (error.response && error.response.data) {\r\n        alert(`Failed to submit test results: ${error.response.data.message || 'Unauthorized'}`);\r\n      } else {\r\n        alert('Failed to submit test results. Please try again later.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // preventActions function ...\r\n\r\n  return (\r\n    <div className=\"container mt-5\" onContextMenu={preventActions} onContextMenuCapture={preventActions} onCopy={preventActions} onDragStart={preventActions} onSelectStart={preventActions}>\r\n      <form onSubmit={handleSubmit}>\r\n        {questions.map((q, index) => (\r\n          <Question\r\n            key={index}\r\n            question={q.question}\r\n            options={q.options}\r\n            onAnswer={(answer) => handleAnswer(index, answer)}\r\n          />\r\n        ))}\r\n        <button type=\"submit\" className=\"btn btn-primary mt-3\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Test;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB,CAAC,CAAC;;AAEhD;AACA;;AAEA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMW,QAAQ,GAAGT,WAAW,CAAC,CAAC,CAAC,CAAC;;EAEhC,MAAMU,SAAS,GAAG;IAChB;EAAA,CACD;EAED,MAAMC,YAAY,GAAGA,CAACC,aAAa,EAAEC,MAAM,KAAK;IAC9CP,UAAU,CAAC;MACT,GAAGD,OAAO;MACV,CAACO,aAAa,GAAGC;IACnB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,MAAMC,eAAe,GAAGP,SAAS,CAACQ,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,EAAEC,KAAK,KAAK;MAC1D,OAAOF,GAAG,IAAIC,CAAC,CAACE,aAAa,KAAKjB,OAAO,CAACgB,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC3D,CAAC,EAAE,CAAC,CAAC;IAELE,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEP,eAAe,CAAC;IAEjDT,YAAY,CAAC,IAAI,CAAC;IAElB,MAAMiB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,WAAW,GAAG;MAClBC,KAAK,EAAEZ,eAAe;MACtBZ;IACF,CAAC;IAED,IAAI;MACF,MAAMN,KAAK,CAAC+B,IAAI,CAAC,kBAAkB,EAAEF,WAAW,EAAE;QAChDG,OAAO,EAAE;UACP,eAAe,EAAE,UAAUN,KAAK;QAClC;MACF,CAAC,CAAC;MACFO,KAAK,CAAC,qCAAqC,CAAC;MAC5CN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;MAClCxB,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,OAAOyB,KAAK,EAAE;MACdX,OAAO,CAACW,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,IAAIA,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACC,IAAI,EAAE;QACzCJ,KAAK,CAAC,kCAAkCE,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACC,OAAO,IAAI,cAAc,EAAE,CAAC;MAC1F,CAAC,MAAM;QACLL,KAAK,CAAC,wDAAwD,CAAC;MACjE;IACF;EACF,CAAC;;EAED;;EAEA,oBACE9B,OAAA;IAAKoC,SAAS,EAAC,gBAAgB;IAACC,aAAa,EAAEC,cAAe;IAACC,oBAAoB,EAAED,cAAe;IAACE,MAAM,EAAEF,cAAe;IAACG,WAAW,EAAEH,cAAe;IAACI,aAAa,EAAEJ,cAAe;IAAAK,QAAA,eACtL3C,OAAA;MAAM4C,QAAQ,EAAEhC,YAAa;MAAA+B,QAAA,GAC1BnC,SAAS,CAACqC,GAAG,CAAC,CAAC3B,CAAC,EAAEC,KAAK,kBACtBnB,OAAA,CAAC8C,QAAQ;QAEPC,QAAQ,EAAE7B,CAAC,CAAC6B,QAAS;QACrBC,OAAO,EAAE9B,CAAC,CAAC8B,OAAQ;QACnBC,QAAQ,EAAGtC,MAAM,IAAKF,YAAY,CAACU,KAAK,EAAER,MAAM;MAAE,GAH7CQ,KAAK;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIX,CACF,CAAC,eACFrD,OAAA;QAAQsD,IAAI,EAAC,QAAQ;QAAClB,SAAS,EAAC,sBAAsB;QAAAO,QAAA,EAAC;MAAM;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAACnD,EAAA,CArEID,IAAI;EAAA,QAGSH,WAAW;AAAA;AAAAyD,EAAA,GAHxBtD,IAAI;AAuEV,eAAeA,IAAI;AAAC,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}