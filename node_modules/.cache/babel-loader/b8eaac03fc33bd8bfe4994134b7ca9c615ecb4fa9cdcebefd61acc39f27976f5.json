{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';// Import useNavigate hook\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Question=_ref=>{let{question,options=[],onAnswer}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:question}),options.map((option,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:question,value:option,id:\"\".concat(question,\"-\").concat(index),onChange:e=>onAnswer(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"\".concat(question,\"-\").concat(index),children:option})]},index))]})});};const Test=()=>{const[answers,setAnswers]=useState({});const navigate=useNavigate();// Initialize useNavigate hook\nconst questions=[{question:\"Q1. An accurate clock shows 8 o'clock in the morning. Through how many degrees will the hour hand rotate when the clock shows 2 o'clock in the afternoon?\",options:[\"144°\",\"150°\",\"168°\",\"180°\"],correctAnswer:\"180°\"},{question:\"Q2. (476 + 424)2 - 4 x 476 x 424 = ?\",options:[\"2906\",\"3116\",\"2104\",\"2904\"],correctAnswer:\"2904\"},{question:\"Q3. It was Sunday on Jan 1, 2006. What was the day of the week Jan 1, 2010?\",options:[\"Sunday\",\"Saturday\",\"Friday\",\"Wednesday\"],correctAnswer:\"Friday\"},{question:\"Q4. The square root of 64009 is:\",options:[\"253\",\"347\",\"363\",\"803\"],correctAnswer:\"253\"}];const handleAnswer=(questionIndex,answer)=>{setAnswers({...answers,[questionIndex]:answer});};const handleSubmit=async e=>{e.preventDefault();const calculatedScore=questions.reduce((acc,q,index)=>{return acc+(q.correctAnswer===answers[index]?1:0);},0);console.log(\"Calculated Score:\",calculatedScore);const token=localStorage.getItem('token');try{await axios.post('/api/submit-test',{user:{username:'your_username'},answers,score:calculatedScore},{headers:{'Authorization':\"Bearer \".concat(token)}});alert(\"Test submitted successfully. \\n Note: Your result will be notified via email as soon as possible. Check email often. \\n Thank you for attempting the test\");localStorage.removeItem('token');// Remove the token to prevent re-login\nnavigate('/login');// Redirect to login page after successful submission\n}catch(error){console.error('Error submitting test results:',error);if(error.response&&error.response.data){alert(\"Failed to submit test results: \".concat(error.response.data.message||'Unauthorized'));}else{alert('Failed to submit test results. Please try again later.');}}};const preventActions=event=>{if(event.type==='copy'||event.type==='dragstart'||event.type==='selectstart'){event.preventDefault();}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",onContextMenu:preventActions,onContextMenuCapture:preventActions,onCopy:preventActions,onDragStart:preventActions,onSelectStart:preventActions,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[questions.map((q,index)=>/*#__PURE__*/_jsx(Question,{question:q.question,options:q.options,onAnswer:answer=>handleAnswer(index,answer)},index)),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-3\",children:\"Submit\"})]})});};export default Test;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Question","_ref","question","options","onAnswer","className","children","map","option","index","type","name","value","id","concat","onChange","e","target","htmlFor","Test","answers","setAnswers","navigate","questions","correctAnswer","handleAnswer","questionIndex","answer","handleSubmit","preventDefault","calculatedScore","reduce","acc","q","console","log","token","localStorage","getItem","post","user","username","score","headers","alert","removeItem","error","response","data","message","preventActions","event","onContextMenu","onContextMenuCapture","onCopy","onDragStart","onSelectStart","onSubmit"],"sources":["C:/Users/SATHISH/Desktop/myfirst/src/components/Test.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate hook\r\n\r\nconst Question = ({ question, options = [], onAnswer }) => {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{question}</h5>\r\n        {options.map((option, index) => (\r\n          <div className=\"form-check\" key={index}>\r\n            <input\r\n              className=\"form-check-input\"\r\n              type=\"radio\"\r\n              name={question}\r\n              value={option}\r\n              id={`${question}-${index}`}\r\n              onChange={(e) => onAnswer(e.target.value)}\r\n            />\r\n            <label className=\"form-check-label\" htmlFor={`${question}-${index}`}>\r\n              {option}\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Test = () => {\r\n  const [answers, setAnswers] = useState({});\r\n  const navigate = useNavigate(); // Initialize useNavigate hook\r\n\r\n  const questions = [\r\n    {\r\n      question: \"Q1. An accurate clock shows 8 o'clock in the morning. Through how many degrees will the hour hand rotate when the clock shows 2 o'clock in the afternoon?\",\r\n      options: [\"144°\", \"150°\", \"168°\", \"180°\"],\r\n      correctAnswer: \"180°\"\r\n    },\r\n    {\r\n      question: \"Q2. (476 + 424)2 - 4 x 476 x 424 = ?\",\r\n      options: [\"2906\", \"3116\", \"2104\", \"2904\"],\r\n      correctAnswer: \"2904\"\r\n    },\r\n    {\r\n      question: \"Q3. It was Sunday on Jan 1, 2006. What was the day of the week Jan 1, 2010?\",\r\n      options: [\"Sunday\", \"Saturday\", \"Friday\", \"Wednesday\"],\r\n      correctAnswer: \"Friday\"\r\n    },\r\n    {\r\n      question: \"Q4. The square root of 64009 is:\",\r\n      options: [\"253\", \"347\", \"363\", \"803\"],\r\n      correctAnswer: \"253\"\r\n    }\r\n  ];\r\n\r\n  const handleAnswer = (questionIndex, answer) => {\r\n    setAnswers({\r\n      ...answers,\r\n      [questionIndex]: answer\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const calculatedScore = questions.reduce((acc, q, index) => {\r\n      return acc + (q.correctAnswer === answers[index] ? 1 : 0);\r\n    }, 0);\r\n\r\n    console.log(\"Calculated Score:\", calculatedScore);\r\n\r\n    const token = localStorage.getItem('token');\r\n\r\n    try {\r\n      await axios.post('/api/submit-test', { user: { username: 'your_username' }, answers, score: calculatedScore }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      alert(\"Test submitted successfully. \\n Note: Your result will be notified via email as soon as possible. Check email often. \\n Thank you for attempting the test\");\r\n      localStorage.removeItem('token'); // Remove the token to prevent re-login\r\n      navigate('/login'); // Redirect to login page after successful submission\r\n    } catch (error) {\r\n      console.error('Error submitting test results:', error);\r\n      if (error.response && error.response.data) {\r\n        alert(`Failed to submit test results: ${error.response.data.message || 'Unauthorized'}`);\r\n      } else {\r\n        alert('Failed to submit test results. Please try again later.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const preventActions = (event) => {\r\n    if (event.type === 'copy' || event.type === 'dragstart' || event.type === 'selectstart') {\r\n      event.preventDefault();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\" onContextMenu={preventActions} onContextMenuCapture={preventActions} onCopy={preventActions} onDragStart={preventActions} onSelectStart={preventActions}>\r\n      <form onSubmit={handleSubmit}>\r\n        {questions.map((q, index) => (\r\n          <Question\r\n            key={index}\r\n            question={q.question}\r\n            options={q.options}\r\n            onAnswer={(answer) => handleAnswer(index, answer)}\r\n          />\r\n        ))}\r\n        <button type=\"submit\" className=\"btn btn-primary mt-3\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Test;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}